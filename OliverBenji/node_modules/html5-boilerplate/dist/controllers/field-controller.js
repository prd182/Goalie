define(['views/field-view', 'services/fieldService','views/fieldinfo-view'], function(fieldView, fieldService,fieldInfoView){
    var externals = {};
    var internals = {};

    externals.start = function(){
        internals.bindEventHandlers();
        fieldService.getFields(function(film){
            fieldView.render(film);
        });
    };

    internals.bindEventHandlers = function(){
        fieldView.bind('campButtons', internals.buttonHandler);
    };

    internals.buttonHandler = function(event){
        let currentField = event.currentTarget.id.split("field-")[1];
        console.log(currentField);
        fieldService.getFieldInfo(function(currentField){
            fieldInfoView.render(currentField);
        });
    }
    
        


    return externals;
});