define(function(){

    var internals = {
        handlers: {},
        elements: {}
    };
    var externals = {};


    
    internals.createFilmCard = function (camps) {
        let result = "";
        for(let i = 0 ; i<camps.length;i++){
        result += `<div class="camp" id="field-${camps[i].id}">
        <img class = "campimg"src="https://i.pinimg.com/736x/ce/73/36/ce7336203a60118fa487e268ca7ec020.jpg" />
        <p class="campName">${camps[i].location}</p>
        <p class="maxNumber">${camps[i].signedUsers.length}/${camps[i].maxCapacity}</p>
        </div>`
        }
        return result;
    };

    internals.renderFields = function(camps){
        if(internals.elements.filmCard){
            internals.elements.filmCard.empty();
        }
        internals.elements.camps = $(internals.createFilmCard(camps));
        internals.elements.app.append(internals.elements.camps);
        //$('[id*=camp-]').on('click',(event) =>{
          //  console.log(event.currentTarget.id)
        //})
        internals.elements.campButtons = $('[id*=field-]');
        internals.elements.campButtons.click(internals.handlers['campButtons'])
    }


    


    externals.bind = function(event,  handler){
        internals.handlers[event] = handler;
    }

    externals.render = function(camps){
        $(".containerer").empty();
        internals.elements.app = $('#campos');

        if(camps){
            internals.renderFields(camps);
        }
    };

    return externals;
})