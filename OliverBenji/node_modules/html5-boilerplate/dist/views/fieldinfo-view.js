define(function(){

    var internals = {
        handlers: {},
        elements: {}
    };
    var externals = {};

    internals.createList = (field)=>{
        let result = `
        <thead>
          <tr>
          <th scope="col">#</th>
            <th scope="col">FirstName</th>
            <th scope="col">LastName</th>
            <th scope="col">Age</th>
            <th scope="col">1stPosition</th>
            <th scope="col">2ndPosition</th>
            <th scope="col">Sport</th>
            <th scope="col">Email</th>
            <th scope="col">Phone</th>
          </tr>
        </thead>`;

        for(let i = 0; i<field.signedUsers.length;i++){
            result += `
            
              <tr>
                <th scope="row">${i+1}</th>
                <td>${field.signedUsers[i].firstName}</td>
                <td>${field.signedUsers[i].lastName}</td>
                <td>${field.signedUsers[i].age}</td>
                <td>${field.signedUsers[i].mainPos}</td>
                <td>${field.signedUsers[i].secondaryPos}</td>
                <td>${field.signedUsers[i].sportType}</td>
                <td>${field.signedUsers[i].email}</td>
                <td>${field.signedUsers[i].phone}</td>
              </tr>
            `
        }

        return `<table class="table usertable"><tbody>`+ result + `</tbody></table>` 
    }

    internals.createRegisterButton = () => {
        return '<a href="gameform.html"> <button type="button" class="btn btn-primary">Enter Match</button></a>'
    }

    internals.renderRegisterButton = () => {
        internals.elements.registerButton = $(internals.createRegisterButton());
        $("#campos").append(internals.elements.registerButton);
        internals.elements.registerButton.click(internals.handlers['registerButton'])
    }

    externals.bind = function(event,  handler){
        internals.handlers[event] = handler;
    }

    externals.render = (field) =>{
        $(".containerer").empty();
        internals.elements.createList = $(internals.createList(field));
        $("#campos").append(internals.elements.createList)
        internals.renderRegisterButton();
        console.log(`rendering fieldInfoView ${field.id}`)
    }



    return externals
})