define(['controllers/field-controller'],function (fieldService) {
    var internals = {};
    var externals = {};
     
    externals.fieldId = '';
  
    

    externals.getFields = async (cb) => {
        console.log("1 tou aqui")
        let fields = await fetch('http://192.168.10.172:8080/goalie/api/fields/');
        
        let result = await fields.json();
        console.log("1 tou aqui")
        console.log(result)
        cb(result);
    };

    externals.getFieldInfo = async (cb) =>{
        let field = await fetch('http://192.168.10.172:8080/goalie/api/fields/'+externals.fieldId,{
            credentials: 'include'
        });
        let result = await field.json();
        console.log(`info id:${externals.fieldId}`)
        console.log(result)
        cb(result)
    }

    // externals.addUserToMatch = async (cb) => {
    //     let addeduser = await fetch(`http://192.168.10.172:8080/goalie/api/fields/${externals.fieldId}/${localStorage.getItem("user")}`,{
    //         mode: 'no-cors'
    //       })
    //     console.log(addeduser.json())
    //     cb(result);
    // }


    return externals;
})